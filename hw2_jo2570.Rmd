---
title: "hw2_jo2570"
author: "Jai Oberoi"
date: "02/10/2019"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Running the tidyverse package 

```{r}
library(tidyverse)
```

Problem 1: 

Reading in the Mr. Trash Wheel dataset:
Cleaning the names 
Deleting last 3 columns (15, 16 and 17)
Dropping rows that detail mothly total (not specific to a dumpster)
Converting sports balls variable to an integer value 

```{r}
mr_trash_wheel = 
  readxl::read_excel(path = "./data/trash_wheel_data.xlsx") %>%
  janitor::clean_names() %>% 
  select(-x15, -x16, -x17) %>%
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(sports_balls))
```

Reading in the precipitation data for 2017:
Adding a variable year = 2017 
Deleting rows without precipiatation data 

```{r}
ppt_2017 = 
  readxl::read_excel("./data/trash_wheel_data.xlsx", sheet = 6, range = "A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2017)
```

Reading in the precipitation data for 2017:
Adding a variable year = 2017 
Deleting rows without precipiatation data 

```{r}
ppt_2018 = 
  readxl::read_excel("./data/trash_wheel_data.xlsx", sheet = 5, range = "A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = 2018)
```

Merging the datasets and convering month into a character variable 

```{r}
ppt_merged =
  bind_rows(ppt_2017, ppt_2018) %>%
  mutate(month = month.abb[month])
```



-- 

Problem 2: 

Reading in and cleaning the pols-month data:
Seperating mon variable into year, month, day 
Creating a variable called president which tells indicates whether the president was a republican ("gop") or a democrat ("dem") 
Dropping/Deleting day, prez_gop and prez_dem

```{r}
pols_month_data = 
  read_csv(file = "./data/fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(mon, into = c("year", "month", "day")) %>%
  mutate(pesident = ifelse(prez_gop, "gop", "dem"),
         month = as.numeric(month),
         month = month.name[month]) %>%
  select(-day, -prez_gop, -prez_dem)
```

Reading in and cleaning the snp data: 
Seperating mon variable into year, month, day 
Converting year and month into numeric variables 
Dropping the day column 
Arranging data by year, month 

```{r}
snp_data = 
  read_csv(file = "./data/fivethirtyeight_datasets/snp.csv") %>%
  janitor::clean_names() %>%
  separate(date, into = c("month", "day", "year")) %>%
  mutate(year = as.numeric(year),
         month = as.numeric(month),
         month = month.name[month]) %>%
  select(year, month, -day, close) %>%
  arrange(year, month)
```

Reading in and cleaning the unemployment data: 
Reducing the number of columns by creating a month column and a rate column 

```{r}
umempl_data = 
  read_csv(file = "./data/fivethirtyeight_datasets/unemployment.csv") %>%
  janitor::clean_names() %>%
  pivot_longer((jan:dec),
               names_to = "month",
               values_to =  "rate")
```











